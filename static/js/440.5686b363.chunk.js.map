{"version":3,"file":"static/js/440.5686b363.chunk.js","mappings":"oJACA,MAAMA,GAAaC,EAAAA,EAAAA,OAAK,IAAM,gCA0I9B,EAvIeC,KACX,MAAOC,EAAQC,IAAaC,EAAAA,EAAAA,UAAS,KAC9BC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAS,OAC5BK,EAAYC,IAAiBN,EAAAA,EAAAA,UAAS,KACtCO,EAAUC,IAAeR,EAAAA,EAAAA,UAAS,KAClCS,EAAiBC,IAAsBV,EAAAA,EAAAA,UAAS,OAChDW,EAAiBC,IAAsBZ,EAAAA,EAAAA,WAAS,IAChDa,EAAiBC,IAAsBd,EAAAA,EAAAA,WAAS,IAGvDe,EAAAA,EAAAA,YAAU,KACcC,WAChB,MAAMC,EAAQC,aAAaC,QAAQ,aACnCjB,GAAW,GACX,IACI,MAAMkB,QAAiBC,MAAM,+CAAgD,CACzEC,QAAS,CAAE,cAAiB,SAASL,OAGzC,IAAKG,EAASG,GACV,MAAM,IAAIC,MAAM,+BAGpB,MAAMC,QAAaL,EAASM,OAC5B3B,EAAU0B,EACd,CAAE,MAAOtB,GACLC,EAASD,EAAMwB,QACnB,CAAC,QACGzB,GAAW,EACf,GAGJ0B,EAAa,GACd,IAGH,MAmBMC,EAAsBC,IAnBNd,WAClBJ,GAAmB,GACnB,IACI,MAAMQ,QAAiBC,MAAM,kDAC7B,IAAKD,EAASG,GACV,MAAM,IAAIC,MAAM,+BAEpB,MACMO,SADaX,EAASM,QACEM,QAAOC,GAAWA,EAAQH,UAAYA,IACpEtB,EAAYuB,GACZrB,EAAmBoB,GACnBhB,GAAmB,EACvB,CAAE,MAAOoB,GACL9B,EAAS8B,EAAIP,QACjB,CAAC,QACGf,GAAmB,EACvB,GAIAuB,CAAcL,EAAQ,EAQ1B,GAAI7B,EACA,OAAOmC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kBAAiBC,UAACF,EAAAA,EAAAA,KAACzC,EAAU,MAGvD,GAAIQ,EACA,OAAOoC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,gBAAeC,SAAA,CAAC,UAAQnC,KAGlD,MAAMqC,EAAiB1C,EAAOkC,QAAQS,GAClCA,EAAMC,UAAUC,cAAcC,SAASvC,EAAWsC,iBAGtD,OACIP,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0BAAyBC,SAGlCzB,GAgCE0B,EAAAA,EAAAA,MAAA,OAAKF,UAAU,gCAA+BC,SAAA,EAC1CC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,4BAA2BC,SAAA,EAC1CF,EAAAA,EAAAA,KAAA,UAAQS,QAvDGC,KACvBhC,GAAmB,GACnBN,EAAY,GAAG,EAqDkC6B,UAAU,qBAAoBC,SAAC,oBACpEC,EAAAA,EAAAA,MAAA,MAAIF,UAAU,uBAAsBC,SAAA,CAAC,gBAAc7B,SAEnD2B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kCAAiCC,SAC3C/B,EAASwC,KAAKd,IACXM,EAAAA,EAAAA,MAAA,OAAKF,UAAU,wBAAuBC,SAAA,EAClCF,EAAAA,EAAAA,KAAA,OAAKY,IAAKf,EAAQgB,aAAcC,IAAKjB,EAAQkB,gBAAiBd,UAAU,yBAAyBpC,QAAQ,UACzGmC,EAAAA,EAAAA,KAAA,MAAIC,UAAU,yBAAwBC,SAAEL,EAAQkB,mBAChDf,EAAAA,EAAAA,KAAA,KAAGC,UAAU,+BAA8BC,SAAEL,EAAQmB,sBACrDb,EAAAA,EAAAA,MAAA,KAAGF,UAAU,0BAAyBC,SAAA,CAAC,WAASL,EAAQoB,kBACxDd,EAAAA,EAAAA,MAAA,KAAGF,UAAU,yBAAwBC,SAAA,CAAC,WAASL,EAAQqB,kBALfrB,EAAQsB,mBAtChEhB,EAAAA,EAAAA,MAAAiB,EAAAA,SAAA,CAAAlB,SAAA,EACIF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,mBAAkBC,SAAC,gBACjCF,EAAAA,EAAAA,KAAA,SACIqB,KAAK,OACLC,YAAY,mBACZrB,UAAU,aACVsB,MAAOtD,EACPuD,SAAWC,GAAMvD,EAAcuD,EAAEC,OAAOH,UAE5CvB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBC,SAC1BE,EAAeO,KAAKN,IACjBF,EAAAA,EAAAA,MAAA,OAAKF,UAAU,aAAYC,SAAA,EACvBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBC,UAC3BF,EAAAA,EAAAA,KAAA,OACIY,IAAKP,EAAMsB,UACXb,IAAKT,EAAMC,UACXL,UAAU,aACVpC,QAAQ,YAGhBmC,EAAAA,EAAAA,KAAA,MAAIC,UAAU,aAAYC,SAAEG,EAAMC,aAClCN,EAAAA,EAAAA,KAAA,UACIC,UAAU,gBACVQ,QAASA,IAAMhB,EAAmBY,EAAMX,SAASQ,SAAC,oBAZzBG,EAAMX,iBAsCrD,C","sources":["components/Customer/ProductList/ProductList.js"],"sourcesContent":["import React, { useEffect, useState, lazy } from 'react';\r\nconst DotSpinner = lazy(() => import('../DotSpinner/DotSpinner'));\r\nimport './ProductList.css';\r\n\r\nconst Brands = () => {\r\n    const [brands, setBrands] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [products, setProducts] = useState([]);\r\n    const [selectedBrandID, setSelectedBrandID] = useState(null);\r\n    const [loadingProducts, setLoadingProducts] = useState(false);\r\n    const [viewingProducts, setViewingProducts] = useState(false); // New state to track view\r\n\r\n    // Fetch brands when component mounts\r\n    useEffect(() => {\r\n        const fetchBrands = async () => {\r\n            const token = localStorage.getItem('authToken');\r\n            setLoading(true);\r\n            try {\r\n                const response = await fetch('https://prasad-gz5p.onrender.com/api/brands/', {\r\n                    headers: { 'Authorization': `Token ${token}` },\r\n                });\r\n\r\n                if (!response.ok) {\r\n                    throw new Error('Failed to fetch brands data');\r\n                }\r\n\r\n                const data = await response.json();\r\n                setBrands(data);\r\n            } catch (error) {\r\n                setError(error.message);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchBrands();\r\n    }, []);\r\n\r\n    // Fetch products based on selected brand ID\r\n    const fetchProducts = async (brandID) => {\r\n        setLoadingProducts(true);\r\n        try {\r\n            const response = await fetch('https://prasad-gz5p.onrender.com/api/products/');\r\n            if (!response.ok) {\r\n                throw new Error('Network response was not ok');\r\n            }\r\n            const data = await response.json();\r\n            const filteredProducts = data.filter(product => product.brandID === brandID);\r\n            setProducts(filteredProducts);\r\n            setSelectedBrandID(brandID);\r\n            setViewingProducts(true); // Set viewing products to true\r\n        } catch (err) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoadingProducts(false);\r\n        }\r\n    };\r\n\r\n    const handleViewProducts = (brandID) => {\r\n        fetchProducts(brandID);\r\n    };\r\n\r\n    const handleBackToBrands = () => {\r\n        setViewingProducts(false); // Reset viewing products state\r\n        setProducts([]); // Clear products\r\n    };\r\n\r\n    if (loading) {\r\n        return <div className=\"loading-message\"><DotSpinner/></div>;\r\n    }\r\n\r\n    if (error) {\r\n        return <div className=\"error-message\">Error: {error}</div>;\r\n    }\r\n\r\n    const filteredBrands = brands.filter((brand) =>\r\n        brand.brandName.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n    return (\r\n        <div className=\"brand-list-container070\">\r\n\r\n\r\n            {!viewingProducts ? ( // Show brand list if not viewing products\r\n                <>\r\n                    <h1 className=\"brand-list-title\">Brand List</h1>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Search brands...\"\r\n                        className=\"search-bar\"\r\n                        value={searchTerm}\r\n                        onChange={(e) => setSearchTerm(e.target.value)}\r\n                    />\r\n                    <div className=\"card-container\">\r\n                        {filteredBrands.map((brand) => (\r\n                            <div className=\"brand-card\" key={brand.brandID}>\r\n                                <div className=\"logo-container\">\r\n                                    <img\r\n                                        src={brand.brandLogo}\r\n                                        alt={brand.brandName}\r\n                                        className=\"brand-logo\"\r\n                                        loading='lazy'\r\n                                    />\r\n                                </div>\r\n                                <h2 className=\"brand-name\">{brand.brandName}</h2>\r\n                                <button\r\n                                    className=\"update-button\"\r\n                                    onClick={() => handleViewProducts(brand.brandID)}>\r\n                                    View Products\r\n                                </button>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </>\r\n            ) : (\r\n                <div className='product-list-card-container33'>\r\n                    <div className='back-button-container7777'>\r\n                    <button onClick={handleBackToBrands} className=\"back-button-btn001\">Back to Brands</button>\r\n                    <h2 className='heading-products-001'>Products for {selectedBrandID}</h2>\r\n                    </div>\r\n                    <div className=\"product-list-card-container1000\">\r\n                        {products.map((product) => (\r\n                            <div className=\"product-list-card1000\" key={product.productID}>\r\n                                <img src={product.productImage} alt={product.productCategory} className=\"product-list-image1000\" loading='lazy' />\r\n                                <h2 className=\"product-list-title1000\">{product.productCategory}</h2>\r\n                                <p className=\"product-list-description1000\">{product.productDescription}</p>\r\n                                <p className=\"product-list-volume1000\">Volume: {product.productVolume}</p>\r\n                                <p className=\"product-list-price1000\">Price: ${product.productPrice}</p>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Brands;\r\n"],"names":["DotSpinner","lazy","Brands","brands","setBrands","useState","loading","setLoading","error","setError","searchTerm","setSearchTerm","products","setProducts","selectedBrandID","setSelectedBrandID","loadingProducts","setLoadingProducts","viewingProducts","setViewingProducts","useEffect","async","token","localStorage","getItem","response","fetch","headers","ok","Error","data","json","message","fetchBrands","handleViewProducts","brandID","filteredProducts","filter","product","err","fetchProducts","_jsx","className","children","_jsxs","filteredBrands","brand","brandName","toLowerCase","includes","onClick","handleBackToBrands","map","src","productImage","alt","productCategory","productDescription","productVolume","productPrice","productID","_Fragment","type","placeholder","value","onChange","e","target","brandLogo"],"sourceRoot":""}