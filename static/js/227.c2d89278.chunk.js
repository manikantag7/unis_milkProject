"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[227],{4227:(a,e,s)=>{s.r(e),s.d(e,{default:()=>n});var t=s(5043),r=s(579);const c=(0,t.lazy)((()=>s.e(220).then(s.bind(s,4220)))),n=()=>{const[a,e]=(0,t.useState)([]),[s,n]=(0,t.useState)(!0),[l,d]=(0,t.useState)(null),[i,o]=(0,t.useState)(""),[u,h]=(0,t.useState)([]),[m,p]=(0,t.useState)(null),[j,b]=(0,t.useState)(!1),[x,N]=(0,t.useState)(!1);(0,t.useEffect)((()=>{(async()=>{const a=localStorage.getItem("authToken");n(!0);try{const s=await fetch("https://prasad-gz5p.onrender.com/api/brands/",{headers:{Authorization:`Token ${a}`}});if(!s.ok)throw new Error("Failed to fetch brands data");const t=await s.json();e(t)}catch(l){d(l.message)}finally{n(!1)}})()}),[]);const g=a=>{(async a=>{b(!0);try{const e=await fetch("https://prasad-gz5p.onrender.com/api/products/");if(!e.ok)throw new Error("Network response was not ok");const s=(await e.json()).filter((e=>e.brandID===a));h(s),p(a),N(!0)}catch(e){d(e.message)}finally{b(!1)}})(a)};if(s)return(0,r.jsx)("div",{className:"loading-message",children:(0,r.jsx)(t.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(c,{})})});if(l)return(0,r.jsxs)("div",{className:"error-message",children:["Error: ",l]});const f=a.filter((a=>a.brandName.toLowerCase().includes(i.toLowerCase())));return(0,r.jsx)("div",{className:"brand-list-container",children:x?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"back-button-cont1000",children:[(0,r.jsx)("button",{className:"back-button1000",onClick:()=>{N(!1),h([]),p(null)},children:"Back"}),(0,r.jsxs)("h2",{className:"product-head-1000",children:["Products for Brand ID: ",m]})]}),(0,r.jsx)("div",{className:"product-list-card-container1000",children:u.map((a=>(0,r.jsxs)("div",{className:"product-list-card1000",children:[(0,r.jsx)("img",{src:a.productImage,alt:a.productCategory,className:"product-list-image1000",loading:"lazy"}),(0,r.jsx)("h2",{className:"product-list-title1000",children:a.productCategory}),(0,r.jsx)("p",{className:"product-list-description1000",children:a.productDescription}),(0,r.jsxs)("p",{className:"product-list-volume1000",children:["Volume: ",a.productVolume]}),(0,r.jsxs)("p",{className:"product-list-price1000",children:["Price: ",a.productPrice]})]},a.productID)))})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"brand-list-title",children:"Brand List"}),(0,r.jsx)("input",{type:"text",placeholder:"Search brands...",className:"search-bar",value:i,onChange:a=>o(a.target.value)}),(0,r.jsx)("div",{className:"card-container",children:f.map((a=>(0,r.jsxs)("div",{className:"brand-card",children:[(0,r.jsx)("div",{className:"logo-container",children:(0,r.jsx)("img",{src:a.brandLogo,alt:a.brandName,className:"brand-logo",loading:"lazy"})}),(0,r.jsx)("h2",{className:"brand-name",children:a.brandName}),(0,r.jsx)("button",{className:"update-button",onClick:()=>g(a.brandID),children:"View Products"})]},a.brandID)))})]})})}}}]);
//# sourceMappingURL=227.c2d89278.chunk.js.map